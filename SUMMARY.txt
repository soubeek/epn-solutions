â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    POSTE PUBLIC MANAGER - RÃ‰SUMÃ‰                          â•‘
â•‘           SystÃ¨me de Gestion d'Espaces Publics NumÃ©riques                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ PROJET : Poste Public Manager
ğŸ“… DATE : 2025-01-19
ğŸ“Š STATUT : Structure de base crÃ©Ã©e (25% complet)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… FICHIERS CRÃ‰Ã‰S (Fondations du Projet)

ğŸ“‚ CONFIGURATION DE BASE
  âœ“ .gitignore
  âœ“ README.md (documentation principale)
  âœ“ LICENSE (MIT)
  âœ“ IMPLEMENTATION_GUIDE.md (guide complet)
  âœ“ PROJECT_STATUS.md (Ã©tat du projet)
  âœ“ QUICK_REFERENCE.md (rÃ©fÃ©rence rapide)
  âœ“ quick-start.sh (installation automatique)

ğŸ“‚ ANSIBLE (DÃ©ploiement AutomatisÃ©)
  âœ“ ansible.cfg
  âœ“ inventory/hosts.yml.example
  âœ“ inventory/group_vars/all.yml.example
  
  RÃ´les crÃ©Ã©s :
  âœ“ roles/common/           (paquets de base, systÃ¨me)
  âœ“ roles/docker/           (installation Docker)
  âœ“ roles/network/          (IP statique, netplan)
  âœ“ roles/dnsmasq/          (TFTP + Proxy-DHCP)
  
  RÃ´les Ã  crÃ©er :
  â˜ roles/pxe-server/       (serveur PXE complet)
  â˜ roles/live-image/       (build image Debian)
  â˜ roles/services/         (dÃ©ploiement Docker)
  
  Playbooks Ã  crÃ©er :
  â˜ playbooks/00-all.yml
  â˜ playbooks/01-prepare-server.yml
  â˜ playbooks/02-configure-network.yml
  â˜ playbooks/03-setup-pxe.yml
  â˜ playbooks/04-build-live-image.yml
  â˜ playbooks/05-deploy-services.yml

ğŸ“‚ DOCKER (Infrastructure ConteneurisÃ©e)
  âœ“ docker-compose.yml (services complets)
  âœ“ .env.example (variables d'environnement)
  
  Services dÃ©finis :
  âœ“ PostgreSQL 15
  âœ“ Redis 7
  âœ“ Django (API + WebSocket)
  âœ“ Celery Worker
  âœ“ Celery Beat
  âœ“ Frontend Vue.js
  âœ“ Nginx (statiques + Live image)
  âœ“ Pi-hole (DNS filtrÃ©)
  âœ“ Cloudflared (DoH)
  âœ“ Traefik (reverse proxy)

ğŸ“‚ BACKEND DJANGO
  âœ“ config/__init__.py
  
  Ã€ crÃ©er (PrioritÃ© 1) :
  â˜ Configuration (settings, urls, asgi, wsgi, celery)
  â˜ ModÃ¨les (Utilisateur, Poste, Session, Log)
  â˜ API REST (serializers, views, urls)
  â˜ WebSocket (consumers, routing)
  â˜ TÃ¢ches Celery
  â˜ Django Admin
  â˜ Requirements
  â˜ Dockerfile

ğŸ“‚ FRONTEND VUE.JS
  Ã€ crÃ©er (PrioritÃ© 2) :
  â˜ Setup Vite + Vue 3 + Tailwind
  â˜ Router et Stores Pinia
  â˜ Services API et WebSocket
  â˜ Composants et Vues
  â˜ Dockerfile

ğŸ“‚ CLIENTS PYTHON
  Ã€ crÃ©er (PrioritÃ© 3) :
  â˜ Client Linux (session_client.py)
  â˜ Client Windows (PyQt5)

ğŸ“‚ IMAGE LIVE DEBIAN
  Ã€ crÃ©er (PrioritÃ© 4) :
  â˜ Configuration live-build
  â˜ Listes de packages
  â˜ Scripts de dÃ©marrage

ğŸ“‚ DOCUMENTATION
  âœ“ README.md principal
  â˜ docs/INSTALLATION.md
  â˜ docs/NETWORK.md
  â˜ docs/USER_GUIDE.md
  â˜ docs/API.md
  â˜ docs/TROUBLESHOOTING.md
  â˜ docs/MAINTENANCE.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š PROGRESSION

Module                          Statut      %
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Structure projet                âœ… OK       100%
Configuration base              âœ… OK       100%
Infrastructure Ansible          ğŸ”„ En cours  40%
Infrastructure Docker           ğŸ”„ En cours  80%
Backend Django                  âŒ Ã€ faire    5%
Frontend Vue.js                 âŒ Ã€ faire    0%
Clients Python                  âŒ Ã€ faire    0%
Image Live                      âŒ Ã€ faire    0%
Documentation                   ğŸ”„ En cours  10%

TOTAL GLOBAL                    ğŸ”„ En cours  25%

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ PROCHAINES Ã‰TAPES

1. BACKEND DJANGO (3-4 jours)
   - Configuration complÃ¨te
   - ModÃ¨les de donnÃ©es
   - API REST avec DRF
   - WebSocket avec Channels
   - TÃ¢ches Celery
   - Django Admin

2. FRONTEND VUE.JS (2-3 jours)
   - Setup et configuration
   - Interface complÃ¨te
   - IntÃ©gration API/WebSocket

3. CLIENT PYTHON LINUX (1 jour)
   - Client de session
   - Communication WebSocket

4. PLAYBOOKS ANSIBLE (1 jour)
   - RÃ´les manquants
   - Playbooks principaux

5. CLIENT WINDOWS (optionnel, 2 jours)
6. IMAGE LIVE (optionnel, 1-2 jours)
7. DOCUMENTATION (1 jour)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”‘ CONFIGURATION REQUISE

Variables critiques Ã  dÃ©finir dans docker/.env :
  â€¢ SECRET_KEY (Django)           â†’ openssl rand -hex 50
  â€¢ POSTGRES_PASSWORD              â†’ Mot de passe fort
  â€¢ DJANGO_SUPERUSER_PASSWORD      â†’ Mot de passe fort
  â€¢ PIHOLE_PASSWORD                â†’ Mot de passe fort
  â€¢ SERVER_IP                      â†’ 192.168.1.10
  â€¢ SERVER_FQDN                    â†’ postes-publics.mairie.local
  â€¢ ALLOWED_HOSTS                  â†’ localhost,192.168.1.10,...

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š DOCUMENTATION

Fichiers Ã  consulter :
  ğŸ“– README.md                   â†’ Vue d'ensemble
  ğŸ“– IMPLEMENTATION_GUIDE.md     â†’ Guide d'implÃ©mentation complet
  ğŸ“– PROJECT_STATUS.md           â†’ Ã‰tat dÃ©taillÃ© du projet
  ğŸ“– QUICK_REFERENCE.md          â†’ RÃ©fÃ©rence rapide
  ğŸš€ quick-start.sh              â†’ Installation automatique

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ› ï¸ COMMANDES RAPIDES

Installation :
  $ chmod +x quick-start.sh
  $ sudo ./quick-start.sh

DÃ©marrage manuel :
  $ cd docker
  $ cp .env.example .env
  $ vim .env                     # Ã‰diter les variables
  $ docker compose up -d

Logs :
  $ docker compose logs -f

Ã‰tat :
  $ docker compose ps

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ ARCHITECTURE TECHNIQUE

Serveur : Mini PC (1 carte rÃ©seau)
  â”œâ”€â”€ IP : 192.168.1.10
  â”œâ”€â”€ OS : Ubuntu Server 24.04 LTS
  â”œâ”€â”€ Docker : 24.0+
  â””â”€â”€ Services :
      â”œâ”€â”€ PostgreSQL 15 (base de donnÃ©es)
      â”œâ”€â”€ Redis 7 (cache + broker)
      â”œâ”€â”€ Django 5.0 (backend API)
      â”œâ”€â”€ Vue.js 3 (frontend)
      â”œâ”€â”€ Pi-hole (DNS filtrÃ©)
      â”œâ”€â”€ Traefik (reverse proxy)
      â””â”€â”€ Dnsmasq (TFTP + Proxy-DHCP)

Postes Clients :
  â”œâ”€â”€ Boot PXE (image Debian Live)
  â”œâ”€â”€ Client Python (WebSocket)
  â””â”€â”€ Alternative : Client Windows (PyQt5)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ FONCTIONNALITÃ‰S PRÃ‰VUES

âœ… DÃ©ploiement automatisÃ© (Ansible)
âœ… Interface web d'administration (Vue.js)
âœ… Gestion utilisateurs (RGPD)
âœ… GÃ©nÃ©ration codes d'accÃ¨s temporaires
âœ… ContrÃ´le temps rÃ©el (WebSocket)
âœ… Boot PXE pour postes Linux
âœ… Client Windows optionnel
âœ… Filtrage DNS (Pi-hole)
âœ… Logs et audit complets
âœ… Nettoyage automatique aprÃ¨s session
âœ… Mode kiosque (Linux et Windows)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â±ï¸ TEMPS ESTIMÃ‰

DÃ©veloppement complet :    10-15 jours
  Backend Django :          3-4 jours
  Frontend Vue.js :         2-3 jours
  Clients Python :          1-2 jours
  Infrastructure Ansible :  1-2 jours
  Image Live Debian :       1-2 jours
  Documentation :           1 jour

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ SUPPORT

Documentation :     docs/
Issues GitHub :     <votre-repo>/issues
Email :             support@votre-mairie.fr

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Projet crÃ©Ã© avec â¤ï¸ pour les collectivitÃ©s territoriales
